<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Lager API documentation</title>

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/monokai-sublime.min.css">

    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">

    <link rel="stylesheet" href="/style.css">

    <script type="text/javascript" src="https://emilfolino.se/static/main.js" defer></script>
</head>
<body>

<header class="header">
    <img src="/warehouse.png" class="header-img">
    <h1>Lager API documentation</h1>
</header>

<main>
    <article>
        <section id="toc">
            <h2>Content</h2>
            <ol>
                <li>
                    <a href="#apikeys">API keys</a>
                </li>
                <li>
                    <a href="#products">Products</a>
                </li>
                <li>
                    <a href="#orders">Orders</a>
                </li>
                <li>
                    <a href="#order_items">Order items</a>
                </li>
                <li>
                    <a href="#deliveries">Deliveries</a>
                </li>
                <li>
                    <a href="#invoices">Invoices and Login</a>
                </li>
                <li>
                    <a href="#copier">Copier</a>
                </li>
                <li>
                    <a href="#examples">Code examples</a>
                </li>
            </ol>
        </section>

        <section id="apikeys">
            <h2><a href="#apikeys">API keys</a></h2>
            <p><a href="/v2/auth/api_key">Request a personal API key.</a></p>

            <p>An API key is required for all requests. In all code examples below substitute [YOUR_API_KEY] (including [ ]) with your api key.</p>

            <p>If an API key is not provided the following error is given:</p>
            <pre class="lager">{
    "errors": {
        "status": 401,
        "source": "/products",
        "title": "Valid API key",
        "detail": "No valid API key provided."
    }
}</pre>
        </section>

        <section id="products">
            <h2><a href="#products">Products</a></h2>

            <p>A product has the following attributes:</p>
            <pre class="lager">id
article_number
name
description
specifiers
stock
location
price
api_key</pre>

            <h3 id="all_products"><a href="#all_products">To get all your products:</a></h3>
            <pre class="lager">GET /v2/products?api_key=[YOUR_API_KEY]</pre>

            <h4 id="all_products_code"><a href="#all_products_code">Code example:</a></h4>
            <pre>
                <code class="javascript">const response = await fetch(
    "https://lager.emilfolino.se/v2/products?api_key=[YOUR_API_KEY]"
);
const result = await response.json();
</code>
            </pre>
            <h4 id="all_products_result"><a href="#all_products_result">Result:</a></h4>
            <pre class="lager">{
    "data": [
        {
            "id": 1,
            "article_number": "1214-RNT",
            "name": "Skruv M14",
            "description": "Skruv M14, värmförsinkad",
            "specifiers": "{'length' : '60mm', 'width' : '14mm'}",
            "stock": 12,
            "location": "A1B4",
            "price": 10
        },
        {
            "id": 2,
            "article_number": "1212-RNT",
            "name": "Skruv M12",
            "description": "Skruv M12, värmförsinkad",
            "specifiers": "{'length' : '60mm', 'width' : '12mm'}",
            "stock": 14,
            "location": "A1B5",
            "price": 10
        },
        {
            "id": 3,
            "article_number": "1210-RNT",
            "name": "Skruv M10",
            "description": "Skruv M10, värmförsinkad",
            "specifiers": "{'length' : '60mm', 'width' : '10mm'}",
            "stock": 20,
            "location": "A1B6",
            "price": 10
        },
        {
            "id": 4,
            "article_number": "1208-RNT",
            "name": "Skruv M8",
            "description": "Skruv M8, värmförsinkad",
            "specifiers": "{'length' : '60mm', 'width' : '8mm'}",
            "stock": 2,
            "location": "A1B7",
            "price": 10
        },
        {
            "id": 5,
            "article_number": "1206-RNT",
            "name": "Skruv M6",
            "description": "Skruv M6, värmförsinkad",
            "specifiers": "{'length' : '60mm', 'width' : '6mm'}",
            "stock": 6,
            "location": "A1B8",
            "price": 10
        },
        {
            "id": 6,
            "article_number": "1214-TNT",
            "name": "Mutter M14",
            "description": "Mutter M14, värmförsinkad, passar 1214-RNT",
            "specifiers": "{'diameter' : '14mm'}",
            "stock": 13,
            "location": "A1C4",
            "price": 10
        },
        {
            "id": 7,
            "article_number": "1212-TNT",
            "name": "Mutter M12",
            "description": "Mutter M12, värmförsinkad, passar 1212-RNT",
            "specifiers": "{'diameter' : '12mm'}",
            "stock": 23,
            "location": "A1C4",
            "price": 10
        },
        {
            "id": 8,
            "article_number": "1210-TNT",
            "name": "Mutter M10",
            "description": "Mutter M10, värmförsinkad, passar 1210-RNT",
            "specifiers": "{'diameter' : '10mm'}",
            "stock": 12,
            "location": "A1C4",
            "price": 10
        },
        {
            "id": 9,
            "article_number": "1208-TNT",
            "name": "Mutter M8",
            "description": "Mutter M8, värmförsinkad, passar 1208-RNT",
            "specifiers": "{'diameter' : '8mm'}",
            "stock": 4,
            "location": "A1C4",
            "price": 10
        },
        {
            "id": 10,
            "article_number": "1206-TNT",
            "name": "Mutter M6",
            "description": "Mutter M6, värmförsinkad, passar 1206-RNT",
            "specifiers": "{'diameter' : '6mm'}",
            "stock": 1,
            "location": "A1C4",
            "price": 10
        }
    ]
}</pre>

            <h3 id="specific_product"><a href="#specific_product">To get a specific product:</a></h3>
            <pre class="lager">GET /v2/products/:product_id?api_key=[YOUR_API_KEY]</pre>
            <h4 id="specific_product_code"><a href="#specific_product_code">Code example:</a></h4>
            <pre>
                <code class="javascript">const response = await fetch(
    "https://lager.emilfolino.se/v2/products/1?api_key=[YOUR_API_KEY]"
);
const result = await response.json();
</code>
            </pre>
            <p>Remember to exchange 1 in the above code example to an id of a product associated with you api key.</p>
            <h4 id="specific_product_result"><a href="#specific_product_result">Result:</a></h4>
            <pre class="lager">{
    "data": {
        "id": 1,
        "article_number": "1214-RNT",
        "name": "Skruv M14",
        "description": "Skruv M14, värmförsinkad",
        "specifiers": "{'length' : '60mm', 'width' : '14mm'}",
        "stock": 12,
        "location": "A1B4",
        "price": 10
    }
}</pre>
            <h3 id="search_product"><a href="#search_product">To search for a product:</a></h3>
            <pre class="lager">GET /v2/products/search/:query?api_key=[YOUR_API_KEY]</pre>
            <p>Searches are done in <code>name</code> and <code>description</code> fields.</p>

            <h4 id="specific_product_code"><a href="#specific_product_code">Code example:</a></h4>
            <pre>
                <code class="javascript">const response = await fetch(
    "https://lager.emilfolino.se/v2/products/search/m14?api_key=[YOUR_API_KEY]"
);
const result = await response.json();
</code>
            </pre>

            <h4>Result (search query was m14):</h4>
            <pre class="lager">{
    "data": [
        {
            "id": 1,
            "article_number": "1214-RNT",
            "name": "Skruv M14",
            "description": "Skruv M14, värmförsinkad",
            "specifiers": "{'length' : '60mm', 'width' : '14mm'}",
            "stock": 12,
            "location": "A1B4",
            "price": 10
        },
        {
            "id": 6,
            "article_number": "1214-TNT",
            "name": "Mutter M14",
            "description": "Mutter M14, värmförsinkad, passar 1214-RNT",
            "specifiers": "{'diameter' : '14mm'}",
            "stock": 13,
            "location": "A1C4",
            "price": 10
        }
    ]
}</pre>

            <h3 id="add_product"><a href="#add_product">To add a product:</a></h3>
            <pre class="lager">POST /v2/products</pre>

            <p>Required parameters:</p>
            <pre class="lager">api_key</pre>
            <p>Parameters:</p>
            <pre class="lager">name
article_number
description
specifiers
stock
location
price</pre>
            <h4>Code example:</h4>
            <pre>
                <code class="javascript">const product = {
    api_key: "[YOUR_API_KEY]",
    name: "Skruvdragare",
    article_number: "AAA111",
    price: 1000,
};

const response = await fetch("https://lager.emilfolino.se/v2/products", {
    body: JSON.stringify(product),
    headers: {
      'content-type': 'application/json'
    },
    method: 'POST'
});
const result = await response.json();</code>
</pre>

<h4>Result:</h4>
<pre class="lager">STATUS 201</pre>
<pre class="lager">{
  data: {
    id: 41658,
    article_number: 'AAA111',
    name: 'Skruvdragare',
    description: null,
    specifiers: null,
    stock: null,
    location: null,
    price: 1000
  }
}</pre>

            <h3 id="update_product"><a href="#update_product">To update a product:</a></h3>
            <pre class="lager">PUT /v2/products</pre>
            <p>Required parameters:</p>
            <pre class="lager">id
api_key</pre>

<p>Optional parameters:</p>
<pre class="lager">name
article_number
description
specifiers
stock
location
price</pre>
<h4>Code example:</h4>
<pre>
    <code class="javascript">const product = {
    id: [ID_OF_ONE_OF_YOUR_PRODUCTS],
    api_key: "[YOUR_API_KEY]",
    name: "Skruvdragare",
    article_number: "AAA111",
    price: 1100,
};

const response = await fetch("https://lager.emilfolino.se/v2/products", {
    body: JSON.stringify(product),
    headers: {
      'content-type': 'application/json'
    },
    method: 'PUT'
});
</code>
</pre>
            <h4>Result:</h4>
            <pre class="lager">HTTP Status Code 204 No Content</pre>
            <p>Possible error, besides errors returned from database:</p>
            <pre class="lager">{
    "errors": {
        "status": 400,
        "detail": "Required attribute product id (id) was not included in the request."
    }
}</pre>

            <h3 id="delete_product"><a href="#delete_product">To delete a product:</a></h3>
            <pre class="lager">DELETE /v2/products</pre>
            <p>Required parameters:</p>
            <pre class="lager">id
api_key</pre>
            <p>Result:</p>
            <pre class="lager">HTTP Status Code 204 No Content</pre>
            <p>Possible error, besides errors returned from database:</p>
            <pre class="lager">{
    "errors": {
        "status": 400,
        "detail": "Required attribute product id (id) was not included in the request."
    }
}</pre>
        </section>

        <section id="orders">
            <h2><a href="#orders">Orders</a></h2>

            <p>An order has the following attributes:</p>
            <pre class="lager">id
name
address
zip
city
country
status_id
image_url
api_key</pre>

            <h3 id="status"><a href="#status">Status</a></h3>
            <p>All orders have a status, it can take the following numeric values, corresponding to the descriptions. Orders have a default status value of 100.</p>
            <pre class="lager">100: "Ny"
200: "Packad"
400: "Skickad"
600: "Fakturerad"
800: "Retur"
900: "Återbetald"</pre>

            <h3 id="all_orders"><a href="#all_orders">To get all your orders and associated order items:</a></h3>
            <pre class="lager">GET /v2/orders?api_key=[YOUR_API_KEY]</pre>
            <h4>Code example:</h4>
            <pre>
                <code class="javascript">const response = await fetch(
    "https://lager.emilfolino.se/v2/orders?api_key=[YOUR_API_KEY]"
);
const result = await response.json();</code>
            </pre>
            <h4>Result:</h4>
            <pre class="lager">{
  "data": [
    {
      "id": 1,
      "name": "Anders Andersson",
      "address": "Andersgatan 1",
      "zip": "12345",
      "city": "Anderstorp",
      "country": "Sweden",
      "status": "Ny",
      "image_url": "",
      "status_id": 100,
      "order_items": [
        {
          "product_id": 1,
          "amount": 2,
          "article_number": "1214-RNT",
          "name": "Skruv M14",
          "description": "Skruv M14, värmförsinkad",
          "specifiers": "{'length' : '60mm', 'width' : '14mm'}",
          "stock": 12,
          "location": "A1B4",
          "price": 10
        },
        {
          "product_id": 2,
          "amount": 3,
          "article_number": "1212-RNT",
          "name": "Skruv M12",
          "description": "Skruv M12, värmförsinkad",
          "specifiers": "{'length' : '60mm', 'width' : '12mm'}",
          "stock": 14,
          "location": "A1B5",
          "price": 10
        }
      ]
    },
    {
      "id": 2,
      "name": "Bengt Bengtsson",
      "address": "Bengtsgatan 2",
      "zip": "23457",
      "city": "Bengtfors",
      "country": "Sweden",
      "status": "Ny",
      "image_url": "",
      "status_id": 100,
      "order_items": [
        {
          "product_id": 3,
          "amount": 4,
          "article_number": "1210-RNT",
          "name": "Skruv M10",
          "description": "Skruv M10, värmförsinkad",
          "specifiers": "{'length' : '60mm', 'width' : '10mm'}",
          "stock": 20,
          "location": "A1B6",
          "price": 10
        }
      ]
    },
    {
      "id": 3,
      "name": "Nora Norrby",
      "address": "Norasgatan 3",
      "zip": "34567",
      "city": "Nora",
      "country": "Sweden",
      "status": "Ny",
      "image_url": "",
      "status_id": 100,
      "order_items": [
        {
          "product_id": 6,
          "amount": 5,
          "article_number": "1214-TNT",
          "name": "Mutter M14",
          "description": "Mutter M14, värmförsinkad, passar 1214-RNT",
          "specifiers": "{'diameter' : '14mm'}",
          "stock": 13,
          "location": "A1C4",
          "price": 10
        }
      ]
    },
    {
      "id": 4,
      "name": "Ulla Ullman Davidsson",
      "address": "Ullasallén 4",
      "zip": "45678",
      "city": "Ullared",
      "country": "Sweden",
      "status": "Ny",
      "image_url": "",
      "status_id": 100,
      "order_items": [
        {
          "product_id": 8,
          "amount": 6,
          "article_number": "1210-TNT",
          "name": "Mutter M10",
          "description": "Mutter M10, värmförsinkad, passar 1210-RNT",
          "specifiers": "{'diameter' : '10mm'}",
          "stock": 12,
          "location": "A1C4",
          "price": 10
        }
      ]
    }
  ]
}</pre>

            <h3 id="specific_order"><a href="#specific_order">To get a specific order and associated order items:</a></h3>
            <pre class="lager">GET /v2/orders/:order_id?api_key=[YOUR_API_KEY]</pre>

            <h4>Code example:</h4>
            <pre>
                <code class="javascript">const response = await fetch(
    "https://lager.emilfolino.se/v2/orders/1?api_key=[YOUR_API_KEY]"
);
const result = await response.json();</code>
            </pre>

            <h4>Result:</h4>
            <pre class="lager">{
  "data": {
    "id": 1,
    "name": "Anders Andersson",
    "address": "Andersgatan 1",
    "zip": "12345",
    "city": "Anderstorp",
    "country": "Sweden",
    "status": "Ny",
    "image_url": "",
    "status_id": 100,
    "order_items": [
      {
        "product_id": 1,
        "amount": 2,
        "article_number": "1214-RNT",
        "name": "Skruv M14",
        "description": "Skruv M14, värmförsinkad",
        "specifiers": "{'length' : '60mm', 'width' : '14mm'}",
        "stock": 12,
        "location": "A1B4",
        "price": 10
      },
      {
        "product_id": 2,
        "amount": 3,
        "article_number": "1212-RNT",
        "name": "Skruv M12",
        "description": "Skruv M12, värmförsinkad",
        "specifiers": "{'length' : '60mm', 'width' : '12mm'}",
        "stock": 14,
        "location": "A1B5",
        "price": 10
      }
    ]
  }
}</pre>
            <h3 id="search_order"><a href="#search_order">To search for an order and associated order items:</a></h3>
            <p>
                You can search on the following parameters: name, address, zip, city and country.
            </p>
            <pre class="lager">GET /v2/orders/search/:query?api_key=[YOUR_API_KEY]</pre>
            <h4>Code example:</h4>
            <pre>
                <code class="javascript">const response = await fetch(
    "https://lager.emilfolino.se/v2/orders/search/anders?api_key=[YOUR_API_KEY]"
);
const result = await response.json();</code>
            </pre>
            <h4>Result (search query was anders):</h4>
            <pre class="lager">{
  "data": [
    {
      "id": 1,
      "name": "Anders Andersson",
      "address": "Andersgatan 1",
      "zip": "12345",
      "city": "Anderstorp",
      "country": "Sweden",
      "status": "Ny",
      "image_url": "",
      "status_id": 100,
      "order_items": [
        {
          "product_id": 1,
          "amount": 2,
          "article_number": "1214-RNT",
          "name": "Skruv M14",
          "description": "Skruv M14, värmförsinkad",
          "specifiers": "{'length' : '60mm', 'width' : '14mm'}",
          "stock": 12,
          "location": "A1B4",
          "price": 10
        },
        {
          "product_id": 2,
          "amount": 3,
          "article_number": "1212-RNT",
          "name": "Skruv M12",
          "description": "Skruv M12, värmförsinkad",
          "specifiers": "{'length' : '60mm', 'width' : '12mm'}",
          "stock": 14,
          "location": "A1B5",
          "price": 10
        }
      ]
    }
  ]
}</pre>

            <h3 id="add_order"><a href="#add_order">To add an order:</a></h3>
            <pre class="lager">POST /v2/orders</pre>
            <p>Required parameters:</p>
            <pre class="lager">api_key</pre>
            <p>Optional parameters:</p>
            <pre class="lager">name
address
zip
city
country
image_url
status_id (default value of 100)</pre>

            <p><strong>NB!</strong> Use a numeric status_id value to add status.</p>

            <h4>Code example:</h4>
            <pre>
                <code class="javascript">const order = {
    api_key: "[YOUR_API_KEY]",
    name: "Linus Torvalds",
};

const response = await fetch("https://lager.emilfolino.se/v2/orders", {
    body: JSON.stringify(order),
    headers: {
      'content-type': 'application/json'
    },
    method: 'POST'
});
const result = await response.json();</code></pre>

<h4>Result</h4>

<pre class="lager">STATUS 201</pre>
<pre class="lager">{
  data: {
    id: 13044,
    name: 'Linus Torvalds',
    address: null,
    zip: null,
    city: null,
    image_url: null,
    country: null,
    status: 'Ny',
    status_id: 100,
    order_items: []
  }
}</pre>


            <h3 id="update_order"><a href="#update_order">To update an order:</a></h3>
            <pre class="lager">PUT /v2/orders</pre>
            <p>Required parameters:</p>
            <pre class="lager">id
name
api_key</pre>

<p>Optional parameters:</p>
<pre class="lager">name
address
zip
city
country
image_url
status_id (default value of 100)</pre>


            <p><strong>NB!</strong> Use a numeric status_id value to update status.</p>
            <p><strong>N.B.</strong> Send only the order parameters when updating an order. order_items are updated seperately, see <a href="#order_items">order items</a></p>
            <p>Result:</p>
            <pre class="lager">HTTP Status Code 204 No Content</pre>
            <p>Possible error, besides errors returned from database:</p>
            <pre class="lager">{
    "errors": {
        "status": 400,
        "detail": "Required attribute order id (id) was not included in the request."
    }
}</pre>

            <h3 id="delete_order"><a href="#delete_order">To delete an order and associated order items:</a></h3>
            <pre class="lager">DELETE /v2/orders</pre>
            <p>Required parameters:</p>
            <pre class="lager">id
api_key</pre>
            <p>Result:</p>
            <pre class="lager">HTTP Status Code 204 No Content</pre>
            <p>Possible error, besides errors returned from database:</p>
            <pre class="lager">{
    "errors": {
        "status": 400,
        "detail": "Required attribute order id (id) was not included in the request."
    }
}</pre>
        </section>

        <section id="order_items">
            <h2><a href="#order_items">Order items</a></h2>

            <p>An order item has the following attributes:</p>
            <pre class="lager">order_id
product_id
amount
api_key</pre>

            <h3 id="add_order_item"><a href="#add_order_item">To add an order item to an order:</a></h3>
            <pre class="lager">POST /v2/order_items</pre>
            <p>Required parameters:</p>
            <pre class="lager">order_id
product_id
amount
api_key</pre>

            <h3 id="update_order_item"><a href="#update_order_item">To update an order item:</a></h3>
            <pre class="lager">PUT /v2/order_items</pre>
            <p>Required parameters:</p>
            <pre class="lager">order_id
product_id
api_key</pre>
            <p>Optional parameter:</p>
            <pre class="lager">amount</pre>

            <!-- <p><strong>N.B.</strong> All attributes are updated, send an entire order object.</p> -->
            <p>Result:</p>
            <pre class="lager">HTTP Status Code 204 No Content</pre>
            <p>Possible error, besides errors returned from database:</p>
            <pre class="lager">{
    "errors": {
        "status": 400,
        "detail": "Required attributes order_id and product_id was not included in the request."
    }
}</pre>

            <h3 id="delete_order_item"><a href="#delete_order_item">To delete an order item:</a></h3>
            <pre class="lager">DELETE /v2/order_items</pre>
            <p>Required parameters:</p>
            <pre class="lager">order_id
product_id
api_key</pre>
            <p>Result:</p>
            <pre class="lager">HTTP Status Code 204 No Content</pre>
            <p>Possible error, besides errors returned from database:</p>
            <pre class="lager">{
    "errors": {
        "status": 400,
        "detail": "Required attribute order id and product id was not included in the request."
    }
}</pre>
        </section>

        <section id="deliveries">
            <h2><a href="#deliveries">Deliveries</a></h2>

            <p>A delivery has the following attributes:</p>
            <pre class="lager">id
product_id
product_name
amount
delivery_date
comment
api_key</pre>

            <h3 id="all_deliveries"><a href="#all_deliveries">Get all deliveries</a></h3>
            <pre class="lager">GET /v2/deliveries?api_key=[YOUR_API_KEY]</pre>
            <p>Result</p>
            <pre class="lager">{
    "data": [
        {
            "id": 1,
            "product_id": 2,
            "product_name": "Geléhjärtan",
            "amount": 10,
            "delivery_date": "2018-02-14",
            "comment": "Inleverans för Alla Hjärtans dag"
        }
    ]
}</pre>

            <h3 id="add_delivery"><a href="#add_delivery">Add a delivery</a></h3>
            <pre class="lager">POST /v2/deliveries</pre>
            <p>Required parameters:</p>
            <pre class="lager">product_id
amount
delivery_date
api_key</pre>

            <p>Optional parameter:</p>
            <pre class="lager">comment</pre>

            <p>Result:</p>
            <pre class="lager">{
    "data": {
        "id": 1,
        "product_id": 2,
        "product_name": "Geléhjärtan",
        "amount": 10,
        "delivery_date": "2018-02-14",
        "comment": "Inleverans för Alla Hjärtans dag"
    }
}</pre>

            <h3 id="delete_delivery"><a href="#delete_delivery">To delete a delivery</a></h3>
            <pre class="lager">DELETE /v2/deliveries</pre>
            <p>Required parameters:</p>
            <pre class="lager">id
api_key</pre>

            <p>Result:</p>
            <pre class="lager">HTTP Status Code 204 No Content</pre>
            <p>Possible error, besides errors returned from database:</p>
            <pre class="lager">{
    "errors": {
        "status": 400,
        "detail": "Required attribute delivery id (id) was not included in the request."
    }
}</pre>


        </section>

        <section id="invoices">
            <h2><a href="#invoices">Invoices and Login</a></h2>

            <p>An invoice has the following attributes:</p>
            <pre class="lager">id
order_id
total_price
creation_date
due_date
api_key</pre>

            <p>
                To use the following routes, you need a valid JSON Web Token (JWT) set in the HTTP-header.<br />
                The 'x-access-token' header should contain the JWT.
            </p>

            <pre class="lager">GET /v2/invoices?api_key=[YOUR_API_KEY]
GET /v2/invoices/:invoice_id?api_key=[YOUR_API_KEY]
POST /v2/invoices</pre>

            <h3 id="register"><a href="#register">Register</a></h3>
            <pre class="lager">POST /v2/auth/register</pre>
            <p>Required paramters:</p>
            <pre class="lager">api_key
email
password</pre>
            <p>Result:</p>
            <pre class="lager">{
    "data": {
        "message": "User successfully registered."
    }
}</pre>

            <h3 id="login"><a href="#login">Login</a></h3>
            <pre class="lager">POST /v2/auth/login</pre>
            <pre class="lager">api_key
email
password</pre>
            <p>Result:</p>
            <pre class="lager">{
    "data": {
        "type": "success",
        "message": "User logged in",
        "user": {
            "api_key": "...",
            "email": "unknown@example.com"
        },
        "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.ey..."
    }
}</pre>
            <p><strong>N.B.</strong> The access token expires after 24 hours.</p>

            <h3 id="all_invoices"><a href="#all_invoices">Get all invoices</a></h3>
            <pre class="lager">GET /v2/invoices?api_key=[YOUR_API_KEY]</pre>
            <p>Result:</p>
            <pre class="lager">{
    "data": [
        {
            "id": 1,
            "order_id": 1,
            "name": "Anders Andersson",
            "address": "Andersgatan 1",
            "zip": "12345",
            "city": "Anderstorp",
            "country": "Sweden",
            "total_price": 100,
            "creation_date": "2019-02-13",
            "due_date": "2019-03-13"
        }
    ]
}</pre>

            <h3 id="specific_invoice"><a href="#specific_invoice">Get specific invoice</a></h3>
            <pre class="lager">GET /v2/invoices/:invoice_id?api_key=[YOUR_API_KEY]</pre>
            <p>Result:</p>
            <pre class="lager">{
    "data": {
        "id": 1,
        "order_id": 1,
        "name": "Anders Andersson",
        "address": "Andersgatan 1",
        "zip": "12345",
        "city": "Anderstorp",
        "country": "Sweden",
        "total_price": 100,
        "creation_date": "2019-02-13",
        "due_date": "2019-03-13"
    }
}</pre>


            <h3 id="add_invoice"><a href="#add_invoice">Add invoice</a></h3>
            <pre class="lager">POST /v2/invoices</pre>
            <p>Required parameters:</p>
            <pre class="lager">order_id
total_price
api_key</pre>
            <p>Optional parameters:</p>
            <pre class="lager">creation_date
due_date</pre>
            <p>Result:</p>
            <pre class="lager">{
    "data": {
        "id": 1,
        "order_id": 1,
        "name": "Anders Andersson",
        "address": "Andersgatan 1",
        "zip": "12345",
        "city": "Anderstorp",
        "country": "Sweden",
        "total_price": 100,
        "creation_date": "2019-02-13",
        "due_date": "2019-03-13"
    }
}</pre>

        <h3 id="update_invoice"><a href="#update_invoice">To update an invoice:</a></h3>
        <pre class="lager">PUT /v2/invoices</pre>
        <p>Required parameters:</p>
        <pre class="lager">id
api_key</pre>

            <p>Optional parameters:</p>
            <pre class="lager">creation_date
due_date
total_price
order_id</pre>

            <p>Result:</p>
            <pre class="lager">HTTP Status Code 204 No Content</pre>
            <p>Possible error, besides errors returned from database:</p>
            <pre class="lager">{
                "errors": {
                    "status": 400,
                    "detail": "Required attribute invoice id (id) was not included in the request."
                }
            }</pre>

        <h3 id="delete_invoice"><a href="#delete_invoice">To delete an invoice</a></h3>
            <pre class="lager">DELETE /v2/invoices</pre>
            <p>Required parameters:</p>
            <pre class="lager">id
api_key</pre>

            <p>Result:</p>
            <pre class="lager">HTTP Status Code 204 No Content</pre>
            <p>Possible error, besides errors returned from database:</p>
            <pre class="lager">{
    "errors": {
        "status": 400,
        "detail": "Required attribute invoice id (id) was not included in the request."
    }
}</pre>

        </section>

        <section id="copier">
            <h2><a href="#copier">Copier</a></h2>

            <p>As always 'api_key' is a required parameter.</p>

            <h3 id="copy_products"><a href="#copy_products">Copy products</a></h3>
            <pre class="lager">POST /v2/copier/products</pre>
            <p>Result:</p>
            <pre class="lager">{
    "data": [
        {
            "id": 1,
            "article_number": "1214-RNT",
            "name": "Skruv M14",
            "description": "Skruv M14, värmförsinkad",
            "specifiers": "{'length' : '60mm', 'width' : '14mm'}",
            "stock": 12,
            "location": "A1B4",
            "price": 10
        },
        {
            "id": 2,
            "article_number": "1212-RNT",
            "name": "Skruv M12",
            "description": "Skruv M12, värmförsinkad",
            "specifiers": "{'length' : '60mm', 'width' : '12mm'}",
            "stock": 14,
            "location": "A1B5",
            "price": 10
        },
        {
            "id": 3,
            "article_number": "1210-RNT",
            "name": "Skruv M10",
            "description": "Skruv M10, värmförsinkad",
            "specifiers": "{'length' : '60mm', 'width' : '10mm'}",
            "stock": 20,
            "location": "A1B6",
            "price": 10
        },
        {
            "id": 4,
            "article_number": "1208-RNT",
            "name": "Skruv M8",
            "description": "Skruv M8, värmförsinkad",
            "specifiers": "{'length' : '60mm', 'width' : '8mm'}",
            "stock": 2,
            "location": "A1B7",
            "price": 10
        },
        {
            "id": 5,
            "article_number": "1206-RNT",
            "name": "Skruv M6",
            "description": "Skruv M6, värmförsinkad",
            "specifiers": "{'length' : '60mm', 'width' : '6mm'}",
            "stock": 6,
            "location": "A1B8",
            "price": 10
        },
        {
            "id": 6,
            "article_number": "1214-TNT",
            "name": "Mutter M14",
            "description": "Mutter M14, värmförsinkad, passar 1214-RNT",
            "specifiers": "{'diameter' : '14mm'}",
            "stock": 13,
            "location": "A1C4",
            "price": 10
        },
        {
            "id": 7,
            "article_number": "1212-TNT",
            "name": "Mutter M12",
            "description": "Mutter M12, värmförsinkad, passar 1212-RNT",
            "specifiers": "{'diameter' : '12mm'}",
            "stock": 23,
            "location": "A1C4",
            "price": 10
        },
        {
            "id": 8,
            "article_number": "1210-TNT",
            "name": "Mutter M10",
            "description": "Mutter M10, värmförsinkad, passar 1210-RNT",
            "specifiers": "{'diameter' : '10mm'}",
            "stock": 12,
            "location": "A1C4",
            "price": 10
        },
        {
            "id": 9,
            "article_number": "1208-TNT",
            "name": "Mutter M8",
            "description": "Mutter M8, värmförsinkad, passar 1208-RNT",
            "specifiers": "{'diameter' : '8mm'}",
            "stock": 4,
            "location": "A1C4",
            "price": 10
        },
        {
            "id": 10,
            "article_number": "1206-TNT",
            "name": "Mutter M6",
            "description": "Mutter M6, värmförsinkad, passar 1206-RNT",
            "specifiers": "{'diameter' : '6mm'}",
            "stock": 1,
            "location": "A1C4",
            "price": 10
        }
    ]
}</pre>
        </section>

        <section id="examples">
            <h1>Code Examples</h1>

                <h3><a href="#fetch">fetch</a></h3>

                <pre class="lager">GET /v2/products</pre>
                <pre>
                    <code class="javascript">const response = await fetch("https://lager.emilfolino.se/v2/products?api_key=YOUR_API_KEY");
const result = await response.json();</code>
                </pre>

                <pre class="lager">PUT /v2/orders</pre>
                <pre>
                    <code class="javascript">const order = {
    id: 1,
    name: "Anders Andersson",
    address: "Andersgatan 1",
    zip: "12345",
    city: "Anderstorp",
    country: "Sweden",
    status_id: 200,
    api_key: YOUR_API_KEY
};

const response = await fetch("https://lager.emilfolino.se/v2/orders", {
    body: JSON.stringify(order),
    headers: {
      'content-type': 'application/json'
    },
    method: 'PUT'
});
</code>
                </pre>

                <pre class="lager">POST /v2/deliveries</pre>
                <pre>
                    <code class="javascript">const delivery = {
    product_id: 2,
    amount: 12,
    delivery_date: "2018-02-14",
    comment: "Delivery for Valentines Day",
    api_key: YOUR_API_KEY
};

const response = await fetch("https://lager.emilfolino.se/v2/deliveries", {
    body: JSON.stringify(delivery),
    headers: {
      'content-type': 'application/json'
    },
    method: 'POST'
});
</code>
                </pre>

                <pre class="lager">GET /v2/invoices</pre>
                <pre>
                    <code class="javascript">const response = await fetch("https://lager.emilfolino.se/v2/invoices?api_key=[YOUR_API_KEY]", {
    headers: {
      'x-access-token': [TOKEN]
    },
});
const result = await response.json();
</code>
                </pre>
            </section>
    </article>
</main>

<footer class="footer">
    <div class="inner-footer">
        <p>&copy; <a href="https://emilfolino.se">Emil Folino</a></p>
        <p>The API is used in a course given in the Webprogrammering Cluster <a href="https://dbwebb.se">dbwebb</a> at <a href="https://bth.se">Blekinge Tekniska Högskola</a>.</p>
    </div>
</footer>

<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script type="text/javascript">hljs.initHighlightingOnLoad();</script>
</body>
</html>
